<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>dom基础测试 36</title>
    <style>
        textarea {
            line-height: 20px;
        }
    </style>
</head>

<body>
    <textarea></textarea>
    <script>
        let textarea = document.querySelector('textarea');
        textarea.setAttribute('rows', 5);
        textarea.rows = 5;
        let height = document.defaultView.getComputedStyle(textarea, null)['height'];
        let lineHeight = parseFloat(document.defaultView.getComputedStyle(textarea, null)['line-height'])
        textarea.style.height = textarea.rows * lineHeight + 'px'
        document.addEventListener('DOMNodeInserted', function (event) {
            let textarea = event.target;
            let lineHeight = parseFloat(document.defaultView.getComputedStyle(textarea, null)['line-height']);
            textarea.style.height = lineHeight * textarea.rows + 'px';
        });
        console.log(textarea)
        console.log(lineHeight)
        // // 1
        // let textarea = document.querySelector('textarea');
        // console.log(textarea);

        // // 2
        // // textarea.setAttribute('rows', 5);
        // textarea.rows = 5;
        // // 3

        // let height = document.defaultView.getComputedStyle(textarea, null)['height'];
        // console.log(height);
        // // 4
        // console.log(document.defaultView.getComputedStyle(textarea, null)['line-height']);
        // let lineHeight = parseFloat(document.defaultView.getComputedStyle(textarea, null)['line-height'])
        // textarea.style.height = textarea.rows * lineHeight + 'px'
        // console.log(lineHeight);
        // // 5
        // document.addEventListener('DOMNodeInserted', function (event) {
        //     let textarea = event.target;
        //     let lineHeight =  parseFloat(document.defaultView.getComputedStyle(textarea, null)['line-height']);
        //     textarea.style.height = lineHeight * textarea.rows + 'px';
        // });
        // let { height1, lineHeight1, paddingTop, paddingBottom } = window.getComputedStyle(textarea);
        // console.log(height1); // 30px
        // console.log(lineHeight1); //normal
        // console.log(paddingTop); // 2px
        // console.log(paddingBottom); // 2px

    </script>
</body>

</html>